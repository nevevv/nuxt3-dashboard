import{u as k,_ as h}from"./GET_REQUESTS.358673ba.js";import{a as R,b as w,r as m,e as D,f as g,h as o,t as x,w as f,v,c as I,i as q,o as d,p as b,j as T}from"./entry.79f9e98a.js";import{u as E}from"./index.fe5935d6.js";import{u as A,a as B}from"./POST_REQUESTS.6a693605.js";import{_ as L,a as U}from"./logo-text.a03db931.js";import"./cookie.f4052aae.js";const V={setup(){const a=A(),e=k(),c=B(),s=E(),p=w(),r=m(!1),i=m(""),t=D({login:"",password:""}),y=async()=>{const l={method:"POST",body:{login:t.login,password:t.password}};r.value=!0,a.postRequest("login",l,n=>{n.success?(i.value="",document.cookie=`token=${n.data.token}; max-age=3600`,S(n.data.token),q("/")):i.value=n.message,r.value=!1})},S=async l=>{const n={method:"GET",headers:{"Content-type":"application/json",Accept:"application/json",Authorization:"Bearer "+l}};e.getRequest("users/me",n,u=>{document.cookie=`personName=${u.data.full_name}`,c.userName=u.data.full_name})};return{store:s,config:p,user:c,postRequest:a,error:i,userSendData:t,loading:r,submit:y}},components:{Loader:h}},_=a=>(b("data-v-6c90741a"),a=a(),T(),a),C={class:"login-page"},G={class:"login-page-content"},N=_(()=>o("p",{class:"login-page-title"}," COPYRIGHT\xA9 AKFA UNIVERSITY ALL RIGHTS RESERVED. ",-1)),O={key:0,class:"login"},P=_(()=>o("div",{class:"login__head"},[o("div",{class:"login__head-img"},[o("img",{src:L,alt:""}),o("img",{src:U,alt:""})])],-1)),j={style:{color:"red"}},F={class:"login__form"},H={class:"login__foot"},M=_(()=>o("a",{class:"login__foot-forgot"},"Forgot password?",-1));function Y(a,e,c,s,p,r){const i=h;return d(),g("div",C,[o("div",G,[N,s.loading?(d(),I(i,{key:1})):(d(),g("div",O,[P,o("p",j,x(s.error),1),o("form",F,[f(o("input",{type:"text",placeholder:"ID","onUpdate:modelValue":e[0]||(e[0]=t=>s.userSendData.login=t)},null,512),[[v,s.userSendData.login]]),f(o("input",{type:"password",placeholder:"Password","onUpdate:modelValue":e[1]||(e[1]=t=>s.userSendData.password=t)},null,512),[[v,s.userSendData.password]]),o("div",H,[M,o("input",{type:"submit",onClick:e[2]||(e[2]=t=>s.submit()),style:{cursor:"pointer",background:"#e92026"},class:"login__foot-btn"})])])]))])])}const Z=R(V,[["render",Y],["__scopeId","data-v-6c90741a"]]);export{Z as default};

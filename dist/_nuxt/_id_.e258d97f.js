import{_ as q}from"./HeadVue.02c42a3b.js";import{_ as N,r as l,b as $,c,k as R,a as s,t as o,u as i,d as B,l as v,w as A,e as T,F as V,A as j,f as z,z as g,o as r,n as C}from"./entry.c60b3006.js";import{u as d}from"./cookie.6bf8de49.js";import{u as O}from"./GET_REQUESTS.cd5f1bde.js";import{u as D}from"./POST_REQUESTS.186e5882.js";import{_ as E}from"./Loader.ce1f7a85.js";import"./index.ab3166c5.js";const F={class:"d-flex flex-column w-100"},M={class:"fs-3 createNew-title pt-3"},P={key:1,class:"createNew-form"},S={class:"d-flex flex-column align-items-start gap-2 mb-3 createNew-form-item"},U={class:"d-flex flex-column align-items-start gap-2 mb-3 createNew-form-item"},G={selected:"",disabled:""},H=["value"],I={class:"text-danger"},L={class:"d-flex justify-content-start w-100 align-items-center"},J={__name:"[id]",setup(K){const u=O(),y=D(),p=l(!0),n=$({}),m=l(""),_=l(""),f=l([]),h=()=>{const t={headers:{Authorization:"Bearer "+d("token").value}};u.getRequest(`service-fields/${g().params.id}/show`,t,e=>{n.name=e.data.name,n.field_type_id=e.data.field_type_id,p.value=!1})},w=()=>{n.field_type_id=_.value;const t={method:"POST",body:n,headers:{Authorization:"Bearer "+d("token").value}};y.postRequest(`service-fields/${g().params.id}/update`,t,e=>{e.success?C("/options/settings"):m.value=e.error.message})},k=()=>{const t={headers:{"Content-type":"application/json",Accept:"application/json",Authorization:"Bearer "+d("token").value}};u.getRequest("field-types",t,e=>{f.value=e.data.items})},b=t=>{_.value=t};return h(),k(),(t,e)=>{const x=q;return r(),c("div",F,[R(x),s("p",M,o(t.$t("edit")),1),i(p)?(r(),B(E,{key:0})):(r(),c("form",P,[s("div",S,[v(o(t.$t("name"))+" ",1),A(s("input",{type:"text",class:"w-100 h-100 createNew-form-input","onUpdate:modelValue":e[0]||(e[0]=a=>i(n).name=a)},null,512),[[T,i(n).name]])]),s("div",U,[v(o(t.$t("type"))+" ",1),s("select",{class:"form-select",onChange:e[1]||(e[1]=a=>b(a.target.value))},[s("option",G,o(t.$t("type")),1),(r(!0),c(V,null,j(i(f),a=>(r(),c("option",{key:a.id,value:a.id},o(a.name),9,H))),128))],32)]),s("p",I,o(i(m)),1),s("div",L,[s("button",{type:"submit",class:"btn btn-primary createNew-btn",onClick:e[2]||(e[2]=z(a=>w(),["prevent"]))},o(t.$t("perform")),1)])]))])}}},se=N(J,[["__scopeId","data-v-aae47c25"]]);export{se as default};

import{_ as $}from"./HeadVue.60426158.js";import{_ as q}from"./Loader.1991c8cb.js";import{_ as R,r as p,b as V,c as i,k as j,a as e,t as n,u as l,w as u,e as c,F as A,A as B,f as O,d as U,z as v,o as r,n as C}from"./entry.8642afe9.js";import{u as m}from"./cookie.2d74e526.js";import{u as z}from"./GET_REQUESTS.057ee1cc.js";import{u as D}from"./POST_REQUESTS.7d6feb0d.js";import"./index.857abb0e.js";const E={class:"d-flex flex-column w-100"},F={class:"fs-3 createNew-title pt-3"},S={key:0,class:"createNew-form"},T={class:"d-flex flex-column align-items-start gap-2 mb-3 createNew-form-item"},L={class:"d-flex flex-column align-items-start gap-2 mb-3 createNew-form-item"},M={class:"d-flex flex-column align-items-start gap-2 mb-3 createNew-form-item"},P={class:"d-flex flex-column align-items-start gap-2 mb-3 createNew-form-item"},G={class:"d-flex flex-column align-items-start gap-2 mb-3 createNew-form-item"},H={selected:"",disabled:""},I=["value"],J={style:{color:"red"},class:"d-flex w-100 text-danger"},K={class:"d-flex justify-content-start w-100"},Q={__name:"[id]",setup(W){const b=D(),f=z(),_=p(""),a=V({}),w=p(!0),g=p([]),h=()=>{const s={headers:{"Content-type":"application/json",Accept:"application/json",Authorization:"Bearer "+m("token").value}};f.getRequest(`users/${v().params.id}/show`,s,t=>{Object.assign(a,t.data)})},y=()=>{const s={headers:{"Content-type":"application/json",Accept:"application/json",Authorization:"Bearer "+m("token").value}};f.getRequest("roles",s,t=>{t.data.forEach(d=>{g.value.push(d),w.value=!1})})},N=async()=>{const s={method:"POST",body:a,headers:{Authorization:"Bearer "+m("token").value}};b.postRequest(`users/${v().params.id}/update`,s,t=>{t.success?C("/users"):_.value=t.error.message})},x=s=>{a.role=s};return h(),y(),(s,t)=>{const d=$,k=q;return r(),i("div",E,[j(d),e("p",F,n(s.$t("edit")),1),l(w)?(r(),U(k,{key:1})):(r(),i("form",S,[e("div",T,[e("label",null,n(s.$t("fullName")),1),u(e("input",{class:"w-100 h-100 createNew-form-input",type:"text","onUpdate:modelValue":t[0]||(t[0]=o=>l(a).fullName=o)},null,512),[[c,l(a).fullName]])]),e("div",L,[e("label",null,n(s.$t("login")),1),u(e("input",{class:"w-100 h-100 createNew-form-input",type:"text","onUpdate:modelValue":t[1]||(t[1]=o=>l(a).login=o)},null,512),[[c,l(a).login]])]),e("div",M,[e("label",null,n(s.$t("password")),1),u(e("input",{class:"w-100 h-100 createNew-form-input",autocomplete:"",type:"password","onUpdate:modelValue":t[2]||(t[2]=o=>l(a).password=o)},null,512),[[c,l(a).password]])]),e("div",P,[e("label",null,n(s.$t("password_confirmation")),1),u(e("input",{class:"w-100 h-100 createNew-form-input",autocomplete:"",type:"password","onUpdate:modelValue":t[3]||(t[3]=o=>l(a).password_confirmation=o)},null,512),[[c,l(a).password_confirmation]])]),e("div",G,[e("label",null,n(s.$t("role")),1),e("select",{class:"form-select","aria-label":"Default select example",onChange:t[4]||(t[4]=o=>x(o.target.value))},[e("option",H,n(s.$t("role")),1),(r(!0),i(A,null,B(l(g),o=>(r(),i("option",{value:o.name,key:o},n(o.name),9,I))),128))],32)]),e("p",J,n(l(_)),1),e("div",K,[e("button",{type:"submit",class:"btn btn-primary createNew-btn",onClick:t[5]||(t[5]=O(o=>N(),["prevent"]))},n(s.$t("create")),1)])]))])}}},ae=R(Q,[["__scopeId","data-v-dfe08cba"]]);export{ae as default};

import{_ as k}from"./HeadVue.74c01cf5.js";import{_ as q}from"./Loader.f4798cbb.js";import{_ as N,r as a,b as R,c as d,k as _,a as t,t as n,u as o,w as V,e as B,Q as $,f as j,d as A,o as c,n as O}from"./entry.e8eb3b7f.js";import{u as f}from"./cookie.da27400e.js";import{u as C}from"./GET_REQUESTS.75fe8a57.js";import{u as P}from"./POST_REQUESTS.1cdd53e5.js";import{s as T}from"./vue-multiselect.esm.ecbaafd5.js";import"./index.967c319e.js";const U={class:"d-flex flex-column w-100"},z={class:"fs-3 createNew-title pt-3"},D={key:0,class:"createNew-form"},E={class:"d-flex flex-column align-items-start gap-2 mb-3 createNew-form-item"},M={class:"d-flex flex-column align-items-start gap-2 mb-3 createNew-form-item"},S={style:{color:"red"},class:"d-flex w-100 text-danger"},G={class:"d-flex justify-content-start w-100"},H={__name:"create_new",setup(I){const v=P(),w=C(),u=a(""),r=R({}),m=a(!0),b=a([]),l=a([]),p=a([]),g=()=>{const s={headers:{"Content-type":"application/json",Accept:"application/json",Authorization:"Bearer "+f("token").value}};w.getRequest("permissions",s,e=>{p.value=e.data.items,m.value=!1})},y=async()=>{r.permissions=l.value.map(e=>b.value.push(e.id));const s={method:"POST",body:r,headers:{Authorization:"Bearer "+f("token").value}};v.postRequest("roles/create",s,e=>{e.success?O("/roles"):u.value=e.error.message})};return g(),(s,e)=>{const h=k,x=q;return c(),d("div",U,[_(h),t("p",z,n(s.$t("create")),1),o(m)?(c(),A(x,{key:1})):(c(),d("form",D,[t("div",E,[t("label",null,n(s.$t("name")),1),V(t("input",{class:"w-100 h-100 createNew-form-input",type:"text","onUpdate:modelValue":e[0]||(e[0]=i=>o(r).name=i)},null,512),[[B,o(r).name]])]),t("div",M,[t("label",null,n(s.$t("permissions")),1),_(o(T),{options:o(p),modelValue:o(l),"onUpdate:modelValue":e[1]||(e[1]=i=>$(l)?l.value=i:null),multiple:!0,"hide-selected":!0,"track-by":"id",label:"name",placeholder:"Ruxsatlarni tanlang"},null,8,["options","modelValue"])]),t("p",S,n(o(u)),1),t("div",G,[t("button",{type:"submit",class:"btn btn-primary createNew-btn",onClick:e[2]||(e[2]=j(i=>y(),["prevent"]))},n(s.$t("create")),1)])]))])}}},Z=N(H,[["__scopeId","data-v-3e54c381"]]);export{Z as default};
